name: tweakr
service:
  name: tweakr
  ports:
    - port: 5000
      protocol: http
  routes:
    - path: /
      protocol: http
  healthcheck:
    http:
      path: /
      port: 5000
      interval: 30s
      timeout: 5s
      unhealthy_threshold: 3
      healthy_threshold: 2
  env:
    - name: KOYEB_HEALTH_CHECK
      value: "true"
    - name: PORT
      value: "5000"
    - name: STREAMLIT_SERVER_PORT
      value: "5000"
    - name: STREAMLIT_SERVER_ADDRESS
      value: "0.0.0.0"
    - name: STREAMLIT_BROWSER_GATHER_USAGE_STATS
      value: "false"
  scaling:
    min: 1
    max: 1
  resources:
    cpu: 1000
    memory: 2048 